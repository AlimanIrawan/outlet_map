====================================
å°å°¼é›…åŠ è¾¾å†°æŸœé…é€åœ°å›¾å±•ç¤ºç³»ç»Ÿ
Netlify å‰ç«¯éƒ¨ç½²é…ç½®æŒ‡å— v3.0
====================================

ğŸ¯ ç›®æ ‡: å°†Reactå‰ç«¯åº”ç”¨éƒ¨ç½²åˆ°Netlify

ğŸ“‹ éƒ¨ç½²æ­¥éª¤:

ã€ç¬¬ä¸€æ­¥: ç™»å½•Netlifyã€‘
1. è®¿é—®: https://www.netlify.com/
2. ä½¿ç”¨GitHubè´¦å·ç™»å½•
3. æˆæƒNetlifyè®¿é—®ä½ çš„GitHubä»“åº“

ğŸ” ç§æœ‰ä»“åº“è‡ªåŠ¨æ›´æ–°é…ç½®ï¼ˆé‡è¦ï¼ï¼‰:
å¦‚æœä½ çš„GitHubä»“åº“æ˜¯ç§æœ‰çš„ï¼Œå¿…é¡»æ­£ç¡®é…ç½®æƒé™æ‰èƒ½å®ç°è‡ªåŠ¨æ›´æ–°:

ğŸ’¡ æ³¨æ„ï¼šå…è´¹è´¦æˆ·å’Œä»˜è´¹è´¦æˆ·çš„ç•Œé¢å¯èƒ½ç•¥æœ‰ä¸åŒï¼Œè¯·æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©å¯¹åº”æ–¹æ³•

ğŸ†“ å…è´¹è´¦æˆ·æ¨èæ–¹æ³•ï¼ˆæœ€ç®€å•ï¼‰:
1. ç›´æ¥åˆ›å»ºæ–°ç«™ç‚¹æ—¶é‡æ–°æˆæƒ
2. ç‚¹å‡»"Add new site" â†’ "Import an existing project"
3. é€‰æ‹©"GitHub"ï¼Œç³»ç»Ÿä¼šè¦æ±‚é‡æ–°æˆæƒ
4. åœ¨GitHubæˆæƒé¡µé¢ç¡®ä¿é€‰æ‹©:
   - "All repositories" æˆ–åŒ…å«ä½ çš„ç§æœ‰ä»“åº“
   - å‹¾é€‰æ‰€æœ‰å¿…è¦çš„æƒé™
5. å®Œæˆæˆæƒåé€‰æ‹©ä½ çš„ä»“åº“

æ–¹æ³•1: é‡æ–°æˆæƒNetlifyè®¿é—®GitHubï¼ˆå…¶ä»–é€‰é¡¹ï¼‰

é€‰é¡¹1a: é€šè¿‡ç«™ç‚¹è®¾ç½®é‡æ–°è¿æ¥
1. ç™»å½•Netlify Dashboard
2. è¿›å…¥ä½ çš„ç«™ç‚¹ â†’ Site settings â†’ Build & deploy
3. åœ¨"Continuous deployment"éƒ¨åˆ†ï¼Œç‚¹å‡»"Link to repository"
4. é‡æ–°é€‰æ‹©GitHubå¹¶æˆæƒè®¿é—®ç§æœ‰ä»“åº“
5. ç¡®ä¿æˆæƒåŒ…å«æ‰€æœ‰å¿…è¦æƒé™

é€‰é¡¹1b: å¦‚æœæœ‰Team settingsï¼ˆä»˜è´¹è´¦æˆ·ï¼‰
1. ç™»å½•Netlify Dashboard
2. è¿›å…¥ Team settings â†’ Connected accounts
3. æ‰¾åˆ°GitHubï¼Œç‚¹å‡»"Configure"
4. åœ¨å¼¹å‡ºçš„GitHubæˆæƒé¡µé¢ä¸­ï¼Œç¡®ä¿å‹¾é€‰:
   - "All repositories" æˆ–é€‰æ‹©ç‰¹å®šçš„ç§æœ‰ä»“åº“
   - "Read and write access to code"
   - "Read access to metadata"
5. ç‚¹å‡»"Save"å®Œæˆæˆæƒ

é€‰é¡¹1c: åˆ é™¤å¹¶é‡æ–°åˆ›å»ºç«™ç‚¹è¿æ¥
1. åœ¨ç«™ç‚¹è®¾ç½®ä¸­æ–­å¼€å½“å‰GitHubè¿æ¥
2. é‡æ–°åˆ›å»ºç«™ç‚¹å¹¶è¿æ¥åˆ°GitHubä»“åº“
3. åœ¨æˆæƒè¿‡ç¨‹ä¸­ç¡®ä¿é€‰æ‹©æ­£ç¡®çš„æƒé™èŒƒå›´

æ–¹æ³•2: ä½¿ç”¨GitHub Personal Access Token
1. åœ¨GitHubä¸­: Settings â†’ Developer settings â†’ Personal access tokens â†’ Tokens (classic)
2. ç‚¹å‡»"Generate new token (classic)"
3. è®¾ç½®tokenåç§°: "Netlify Auto Deploy"
4. é€‰æ‹©æƒé™èŒƒå›´:
   - âœ… repo (å®Œæ•´ä»“åº“è®¿é—®æƒé™)
   - âœ… admin:repo_hook (webhookæƒé™)
5. ç‚¹å‡»"Generate token"å¹¶å¤åˆ¶token
6. åœ¨Netlifyéƒ¨ç½²æ—¶:
   - é€‰æ‹©"Deploy with Git"
   - è¾“å…¥GitHubç”¨æˆ·åå’Œåˆšæ‰ç”Ÿæˆçš„tokenä½œä¸ºå¯†ç 

æ–¹æ³•3: æ£€æŸ¥GitHub Appæƒé™
1. åœ¨GitHubä¸­: Settings â†’ Applications â†’ Authorized GitHub Apps
2. æ‰¾åˆ°"Netlify"åº”ç”¨ï¼Œç‚¹å‡»"Configure"
3. ç¡®ä¿"Repository access"è®¾ç½®ä¸º:
   - "All repositories" æˆ–
   - "Selected repositories"å¹¶åŒ…å«ä½ çš„é¡¹ç›®ä»“åº“
4. ä¿å­˜è®¾ç½®

âš ï¸ æƒé™é…ç½®æˆåŠŸåçš„éªŒè¯:
- åœ¨Netlifyç«™ç‚¹è®¾ç½®ä¸­åº”è¯¥èƒ½çœ‹åˆ°"Connected to GitHub"
- æ¨é€ä»£ç åˆ°GitHubåï¼ŒNetlifyä¼šè‡ªåŠ¨è§¦å‘æ„å»º
- å¯ä»¥åœ¨Netlifyçš„"Deploys"é¡µé¢çœ‹åˆ°è‡ªåŠ¨æ„å»ºè®°å½•

ã€ç¬¬äºŒæ­¥: åˆ›å»ºæ–°ç«™ç‚¹ã€‘

æ–¹æ¡ˆA: Gité›†æˆéƒ¨ç½²ï¼ˆæ¨èï¼‰
1. ç‚¹å‡»"Add new site" â†’ "Import an existing project"
2. é€‰æ‹©"GitHub"
3. é€‰æ‹©ä»“åº“: "AlimanIrawan/jakarta-freezer-delivery-map"
4. é…ç½®æ„å»ºè®¾ç½®:
   - Branch to deploy: main
   - Base directory: (ç•™ç©ºï¼Œä½¿ç”¨æ ¹ç›®å½•)
   - Build command: npm run build
   - Publish directory: build

æ–¹æ¡ˆB: æ‰‹åŠ¨éƒ¨ç½²ï¼ˆé€‚ç”¨äºç§æœ‰ä»“åº“æƒé™é—®é¢˜ï¼‰
1. ç‚¹å‡»"Add new site" â†’ "Deploy manually"
2. å°†æœ¬åœ°æ„å»ºå¥½çš„buildæ–‡ä»¶å¤¹æ‹–æ‹½åˆ°éƒ¨ç½²åŒºåŸŸ
3. æˆ–è€…å‹ç¼©buildæ–‡ä»¶å¤¹ä¸ºzipï¼Œç„¶åä¸Šä¼ 
4. æ³¨æ„ï¼šæ‰‹åŠ¨éƒ¨ç½²ä¸æ”¯æŒè‡ªåŠ¨æ›´æ–°ï¼Œæ¯æ¬¡ä»£ç æ›´æ”¹éœ€é‡æ–°ä¸Šä¼ 

ğŸ’¡ æ¨èä½¿ç”¨æ–¹æ¡ˆAï¼Œå¦‚æœé‡åˆ°ç§æœ‰ä»“åº“æƒé™é—®é¢˜ï¼Œå…ˆå°è¯•ä¸Šè¿°ç§æœ‰ä»“åº“é…ç½®ï¼Œå®åœ¨ä¸è¡Œå†ä½¿ç”¨æ–¹æ¡ˆB

ã€ç¬¬ä¸‰æ­¥: é…ç½®ç¯å¢ƒå˜é‡ã€‘
åœ¨"Site settings" â†’ "Environment variables"æ·»åŠ :

REACT_APP_API_URL=https://ä½ çš„Renderåç«¯URL
REACT_APP_SYNC_ENDPOINT=https://ä½ çš„Renderåç«¯URL/sync
REACT_APP_MAP_CENTER_LAT=-6.2
REACT_APP_MAP_CENTER_LNG=106.8
REACT_APP_MAP_ZOOM=10

ã€ç¬¬å››æ­¥: é…ç½®é‡å®šå‘è§„åˆ™ã€‘
åˆ›å»º public/_redirects æ–‡ä»¶:

# SPAè·¯ç”±é‡å®šå‘
/*    /index.html   200

# APIä»£ç†ï¼ˆå¯é€‰ï¼Œå¦‚æœéœ€è¦ï¼‰
/api/*  https://ä½ çš„Renderåç«¯URL/api/:splat  200

ã€ç¬¬äº”æ­¥: éƒ¨ç½²ç«™ç‚¹ã€‘
1. ç‚¹å‡»"Deploy site"
2. ç­‰å¾…æ„å»ºå®Œæˆï¼ˆçº¦3-5åˆ†é’Ÿï¼‰
3. è®°å½•åˆ†é…çš„åŸŸå: https://éšæœºåç§°.netlify.app
4. å¯ä»¥åœ¨"Site settings" â†’ "General"ä¸­è‡ªå®šä¹‰åŸŸå

ã€ç¬¬å…­æ­¥: æ›´æ–°åç«¯CORSé…ç½®ã€‘
1. å›åˆ°Renderåç«¯æœåŠ¡
2. æ›´æ–°ç¯å¢ƒå˜é‡ CORS_ORIGIN:
   CORS_ORIGIN=https://ä½ çš„NetlifyåŸŸå.netlify.app
3. é‡æ–°éƒ¨ç½²åç«¯æœåŠ¡

ã€ç¬¬ä¸ƒæ­¥: éªŒè¯éƒ¨ç½²ã€‘
è®¿é—®ä½ çš„NetlifyåŸŸåéªŒè¯:
- åœ°å›¾æ­£å¸¸åŠ è½½
- æ•°æ®å±•ç¤ºæ­£å¸¸
- æ‰‹åŠ¨åŒæ­¥åŠŸèƒ½æ­£å¸¸
- ç»Ÿè®¡é¢æ¿æ˜¾ç¤ºæ­£ç¡®

ğŸ”§ Netlifyé…ç½®æ–‡ä»¶:
å¯é€‰åˆ›å»º netlify.toml:

[build]
  command = "npm run build"
  publish = "build"

[build.environment]
  NODE_VERSION = "18"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

[[headers]]
  for = "/static/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

ğŸš€ è‡ªåŠ¨éƒ¨ç½²é…ç½®è¯¦è§£:

âœ… è‡ªåŠ¨æ›´æ–°å·¥ä½œåŸç†:
1. å½“ä½ æ¨é€ä»£ç åˆ°GitHubçš„mainåˆ†æ”¯æ—¶
2. GitHubä¼šå‘é€webhooké€šçŸ¥ç»™Netlify
3. Netlifyè‡ªåŠ¨æ‹‰å–æœ€æ–°ä»£ç å¹¶æ‰§è¡Œæ„å»º
4. æ„å»ºæˆåŠŸåè‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

ğŸ”§ ç¡®ä¿è‡ªåŠ¨æ›´æ–°æ­£å¸¸å·¥ä½œ:
1. æ£€æŸ¥Netlifyç«™ç‚¹è®¾ç½®:
   - Site settings â†’ Build & deploy â†’ Continuous deployment
   - ç¡®ä¿"Branch to deploy"è®¾ç½®ä¸º"main"
   - ç¡®ä¿"Auto publishing"å¼€å…³æ˜¯å¼€å¯çŠ¶æ€

2. éªŒè¯GitHubè¿æ¥çŠ¶æ€:
   - åœ¨Netlify Dashboardä¸­åº”æ˜¾ç¤º"Connected to GitHub"
   - å¦‚æœæ˜¾ç¤º"Disconnected"ï¼Œéœ€è¦é‡æ–°è¿æ¥

3. æµ‹è¯•è‡ªåŠ¨éƒ¨ç½²:
   - ä¿®æ”¹é¡¹ç›®ä¸­çš„ä»»æ„æ–‡ä»¶ï¼ˆå¦‚README.mdï¼‰
   - æäº¤å¹¶æ¨é€åˆ°GitHub: git add . && git commit -m "test auto deploy" && git push
   - åœ¨Netlifyçš„"Deploys"é¡µé¢è§‚å¯Ÿæ˜¯å¦è‡ªåŠ¨è§¦å‘æ–°çš„æ„å»º

ğŸ“§ éƒ¨ç½²é€šçŸ¥:
- æ„å»ºæˆåŠŸ/å¤±è´¥ä¼šæ”¶åˆ°é‚®ä»¶é€šçŸ¥
- å¯ä»¥åœ¨Site settings â†’ Notificationsä¸­é…ç½®é€šçŸ¥è®¾ç½®
- æ”¯æŒSlackã€Discordç­‰ç¬¬ä¸‰æ–¹é€šçŸ¥

ğŸ”„ ç‰ˆæœ¬ç®¡ç†:
- æ¯æ¬¡éƒ¨ç½²éƒ½ä¼šä¿ç•™å†å²ç‰ˆæœ¬
- å¯ä»¥åœ¨"Deploys"é¡µé¢å›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬
- æ”¯æŒé¢„è§ˆåˆ†æ”¯éƒ¨ç½²ï¼ˆémainåˆ†æ”¯çš„é¢„è§ˆï¼‰

ğŸ’° è´¹ç”¨è¯´æ˜:
- å…è´¹è®¡åˆ’: 100GBå¸¦å®½/æœˆï¼Œ300åˆ†é’Ÿæ„å»ºæ—¶é—´
- ä»˜è´¹è®¡åˆ’: $19/æœˆèµ·ï¼Œæ›´å¤šåŠŸèƒ½å’Œå¸¦å®½

ğŸ”§ å‰ç«¯é…ç½®æ›´æ–°:
ç¡®ä¿å‰ç«¯ä»£ç ä¸­çš„APIç«¯ç‚¹æ­£ç¡®:

// src/App.tsx ä¸­çš„ handleManualUpdate å‡½æ•°
const response = await fetch(`${process.env.REACT_APP_API_URL}/sync`, {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
});

ğŸš¨ æ³¨æ„äº‹é¡¹:
- ç¡®ä¿ç¯å¢ƒå˜é‡ä»¥REACT_APP_å¼€å¤´
- æ„å»ºåçš„ç¯å¢ƒå˜é‡ä¼šè¢«åµŒå…¥åˆ°é™æ€æ–‡ä»¶ä¸­
- æ•æ„Ÿä¿¡æ¯ä¸è¦æ”¾åœ¨å‰ç«¯ç¯å¢ƒå˜é‡ä¸­
- ç¡®ä¿API URLä½¿ç”¨HTTPS

ğŸ“Š ç›‘æ§å’Œåˆ†æ:
- Netlify Analyticså¯ä»¥æŸ¥çœ‹è®¿é—®ç»Ÿè®¡
- Deploy logsæ˜¾ç¤ºæ„å»ºè¯¦æƒ…
- Function logsï¼ˆå¦‚æœä½¿ç”¨ï¼‰
- å¯ä»¥é›†æˆGoogle Analytics

ğŸ”— è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰:
1. åœ¨"Site settings" â†’ "Domain management"
2. æ·»åŠ è‡ªå®šä¹‰åŸŸå
3. é…ç½®DNSè®°å½•æŒ‡å‘Netlify
4. å¯ç”¨HTTPSï¼ˆè‡ªåŠ¨ï¼‰

ğŸš¨ è‡ªåŠ¨æ›´æ–°æ•…éšœæ’é™¤:

é—®é¢˜1: æ¨é€ä»£ç åNetlifyæ²¡æœ‰è‡ªåŠ¨æ„å»º
è§£å†³æ–¹æ¡ˆ:
- æ£€æŸ¥GitHubä»“åº“çš„Webhooksè®¾ç½®ï¼ˆSettings â†’ Webhooksï¼‰
- ç¡®ä¿æœ‰æŒ‡å‘Netlifyçš„webhookï¼ˆé€šå¸¸ä»¥netlify.comç»“å°¾ï¼‰
- å¦‚æœæ²¡æœ‰ï¼Œåœ¨Netlifyä¸­é‡æ–°è¿æ¥GitHubä»“åº“
- æ£€æŸ¥åˆ†æ”¯åç§°æ˜¯å¦æ­£ç¡®ï¼ˆmain vs masterï¼‰

é—®é¢˜2: æ„å»ºå¤±è´¥
è§£å†³æ–¹æ¡ˆ:
- æŸ¥çœ‹Netlifyçš„Deploy logsäº†è§£å…·ä½“é”™è¯¯
- å¸¸è§é—®é¢˜ï¼š
  * ç¯å¢ƒå˜é‡ç¼ºå¤± â†’ åœ¨Site settingsä¸­æ·»åŠ 
  * Node.jsç‰ˆæœ¬ä¸åŒ¹é… â†’ åœ¨netlify.tomlä¸­æŒ‡å®šç‰ˆæœ¬
  * ä¾èµ–å®‰è£…å¤±è´¥ â†’ æ£€æŸ¥package.jsonå’Œpackage-lock.json

é—®é¢˜3: ç§æœ‰ä»“åº“æƒé™é—®é¢˜
è§£å†³æ–¹æ¡ˆ:
- é‡æ–°æˆæƒNetlifyè®¿é—®GitHubï¼ˆå‚è€ƒä¸Šé¢çš„æƒé™é…ç½®ï¼‰
- ä½¿ç”¨Personal Access Token
- ç¡®ä¿tokenæœ‰è¶³å¤Ÿçš„æƒé™ï¼ˆrepo + admin:repo_hookï¼‰

é—®é¢˜4: éƒ¨ç½²æˆåŠŸä½†ç½‘ç«™æ˜¾ç¤ºæ—§ç‰ˆæœ¬
è§£å†³æ–¹æ¡ˆ:
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- æ£€æŸ¥Netlifyçš„ç¼“å­˜è®¾ç½®
- åœ¨Netlifyä¸­æ‰‹åŠ¨è§¦å‘"Clear cache and deploy site"

ğŸ’¡ æœ€ä½³å®è·µ:
- ä½¿ç”¨Gité›†æˆéƒ¨ç½²ï¼ˆæ–¹æ¡ˆAï¼‰è€Œä¸æ˜¯æ‰‹åŠ¨éƒ¨ç½²
- å®šæœŸæ£€æŸ¥éƒ¨ç½²çŠ¶æ€å’Œæ—¥å¿—
- ä¸ºé‡è¦æ›´æ–°åˆ›å»ºåˆ†æ”¯è¿›è¡Œæµ‹è¯•
- é…ç½®éƒ¨ç½²é€šçŸ¥ä»¥åŠæ—¶äº†è§£æ„å»ºçŠ¶æ€

å®Œæˆåç³»ç»Ÿå°±å…¨éƒ¨éƒ¨ç½²å®Œæˆäº†ï¼
ç°åœ¨ä½ çš„Netlifyç«™ç‚¹å°†è‡ªåŠ¨ä»GitHubè¯»å–æ•°æ®å¹¶å®ç°è‡ªåŠ¨æ›´æ–°ï¼